import{J as Y,K as h,B as T,M as y,m as f,O as B,P as x,Q as $,R as w,S as C,T as G,I as V,V as Z,q as D,W as z,l as p,X as J,Y as K,Z as Q,_ as W,a0 as X,a1 as j}from"./BObWfS-2.js";import{s as F,g as H}from"./dPdN0Q1o.js";let b=!1,E=Symbol();function ne(e,r,u){const a=u[r]??(u[r]={store:null,source:y(void 0),unsubscribe:T});if(a.store!==e&&!(E in u))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=T;else{var v=!0;a.unsubscribe=F(e,t=>{v?a.source.v=t:B(a.source,t)}),v=!1}return e&&E in u?H(e):f(a.source)}function ae(){const e={};function r(){Y(()=>{for(var u in e)e[u].unsubscribe();h(e,E,{enumerable:!1,value:!0})})}return[e,r]}function k(e){var r=b;try{return b=!1,[e(),b]}finally{b=r}}function q(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function ue(e,r,u,a){var L;var v=(u&j)!==0,t=!V||(u&Z)!==0,o=(u&z)!==0,M=(u&X)!==0,O=!1,l;o?[l,O]=k(()=>e[r]):l=e[r];var N=C in e||G in e,c=o&&(((L=x(e,r))==null?void 0:L.set)??(N&&r in e&&(n=>e[r]=n)))||void 0,s=a,S=!0,P=!1,R=()=>(P=!0,S&&(S=!1,M?s=p(a):s=a),s);l===void 0&&a!==void 0&&(c&&t&&J(),l=R(),c&&c(l));var _;if(t)_=()=>{var n=e[r];return n===void 0?R():(S=!0,P=!1,n)};else{var A=(v?D:w)(()=>e[r]);A.f|=$,_=()=>{var n=f(A);return n!==void 0&&(s=void 0),n===void 0?s:n}}if((u&K)===0)return _;if(c){var U=e.$$legacy;return function(n,d){return arguments.length>0?((!t||!d||U||O)&&c(d?_():n),n):_()}}var I=!1,g=y(l),i=D(()=>{var n=_(),d=f(g);return I?(I=!1,d):g.v=n});return o&&f(i),v||(i.equals=Q),function(n,d){if(arguments.length>0){const m=d?f(i):t&&o?W(n):n;if(!i.equals(m)){if(I=!0,B(g,m),P&&s!==void 0&&(s=m),q(i))return n;p(()=>f(i))}return n}return q(i)?i.v:f(i)}}export{ne as a,ue as p,ae as s};
