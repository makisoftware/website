import{F as h,G as x,I as L,J as y,m as f,K as M,M as B,O as G,P as $,S as w,Q as C,D as V,R as Z,q as T,T as z,l as p,V as F,W as J,X as K,Y as Q,Z as W,_ as X}from"./B-JmO9Xn.js";import{s as j,g as H}from"./CcKY9d_Y.js";let b=!1,E=Symbol();function ne(e,r,a){const u=a[r]??(a[r]={store:null,source:y(void 0),unsubscribe:L});if(u.store!==e&&!(E in a))if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=L;else{var v=!0;u.unsubscribe=j(e,t=>{v?u.source.v=t:M(u.source,t)}),v=!1}return e&&E in a?H(e):f(u.source)}function ue(){const e={};function r(){h(()=>{for(var a in e)e[a].unsubscribe();x(e,E,{enumerable:!1,value:!0})})}return[e,r]}function k(e){var r=b;try{return b=!1,[e(),b]}finally{b=r}}function q(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function ae(e,r,a,u){var D;var v=(a&X)!==0,t=!V||(a&Z)!==0,o=(a&z)!==0,N=(a&W)!==0,O=!1,l;o?[l,O]=k(()=>e[r]):l=e[r];var U=w in e||C in e,c=o&&(((D=B(e,r))==null?void 0:D.set)??(U&&r in e&&(n=>e[r]=n)))||void 0,s=u,S=!0,P=!1,R=()=>(P=!0,S&&(S=!1,N?s=p(u):s=u),s);l===void 0&&u!==void 0&&(c&&t&&F(),l=R(),c&&c(l));var _;if(t)_=()=>{var n=e[r];return n===void 0?R():(S=!0,P=!1,n)};else{var A=(v?T:$)(()=>e[r]);A.f|=G,_=()=>{var n=f(A);return n!==void 0&&(s=void 0),n===void 0?s:n}}if((a&J)===0)return _;if(c){var Y=e.$$legacy;return function(n,d){return arguments.length>0?((!t||!d||Y||O)&&c(d?_():n),n):_()}}var I=!1,g=y(l),i=T(()=>{var n=_(),d=f(g);return I?(I=!1,d):g.v=n});return o&&f(i),v||(i.equals=K),function(n,d){if(arguments.length>0){const m=d?f(i):t&&o?Q(n):n;if(!i.equals(m)){if(I=!0,M(g,m),P&&s!==void 0&&(s=m),q(i))return n;p(()=>f(i))}return n}return q(i)?i.v:f(i)}}export{ne as a,ae as p,ue as s};
